{"ast":null,"code":"import _slicedToArray from \"/Users/vineetkaurbagga/Documents/WebDev_Workspace/stock-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/vineetkaurbagga/Documents/WebDev_Workspace/stock-tracker/src/StockList.jsx\";\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { updateStock } from './services';\n\nfunction StockList({\n  stocks,\n  refreshStocks\n}) {\n  let _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  let _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      updateButtonDisabled = _useState4[0],\n      setUpdateButtonDisabled = _useState4[1];\n\n  const onKeyUp = e => {\n    if (e.key === 'Enter') {\n      console.log(\"Enter clicked\");\n      let index = e.target.id;\n      let stockname = stocks[index][\"stockName\"];\n      let quantity = stocks[index][\"quantity\"];\n      let equity = stocks[index][\"equity\"];\n      updateStock({\n        stockname,\n        quantity,\n        equity\n      }).then(() => {\n        refreshStocks();\n      }).catch(function (e) {\n        //setErrorMessage(e.message);\n        console.log(\"Error in updating stock\");\n      });\n    }\n  };\n\n  const handleQuantityChange = e => {\n    let quantityText = e.target.value;\n    let index = e.target.id;\n    let isnum = /^\\d+$/.test(quantityText);\n\n    if (isnum) {\n      let quantity = parseInt(quantityText);\n      stocks[index][\"quantity\"] = quantity;\n      let equity = stocks[index][\"price\"] * quantity;\n      stocks[index][\"equity\"] = equity.toFixed(2);\n      setUpdateButtonEnabled(false);\n      setValue(++value);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Your Virtual Portfolio\"), React.createElement(\"ol\", {\n    className: \"stock-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"stock-item-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Stock Symbol\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Price\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Last Updated Date\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Quantity\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Your Equity\"))), stocks.map((stockMap, index) => {\n    return React.createElement(\"li\", {\n      className: \"stock-item\",\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, stockMap[\"stockName\"]), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, stockMap[\"price\"]), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, stockMap[\"lastUpdatedDate\"]), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: index,\n      value: stockMap[\"quantity\"],\n      onChange: e => handleQuantityChange(e),\n      onKeyUp: onKeyUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      id: index,\n      type: \"submit\",\n      disabled: updateButtonEnabled,\n      onClick: handleUsername,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Update\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, stockMap[\"equity\"])));\n  })));\n}\n\n;\nexport default StockList;","map":{"version":3,"sources":["/Users/vineetkaurbagga/Documents/WebDev_Workspace/stock-tracker/src/StockList.jsx"],"names":["React","useState","useCallback","useEffect","updateStock","StockList","stocks","refreshStocks","value","setValue","updateButtonDisabled","setUpdateButtonDisabled","onKeyUp","e","key","console","log","index","target","id","stockname","quantity","equity","then","catch","handleQuantityChange","quantityText","isnum","test","parseInt","toFixed","setUpdateButtonEnabled","map","stockMap","updateButtonEnabled","handleUsername"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,EAAuCC,SAAvC,QAAwD,OAAxD;AACA,SAASC,WAAT,QAA4B,YAA5B;;AAEA,SAASC,SAAT,CAAmB;AAACC,EAAAA,MAAD;AAASC,EAAAA;AAAT,CAAnB,EAA2C;AAAA,kBAEhBN,QAAQ,CAAC,CAAD,CAFQ;AAAA;AAAA,MAEnCO,KAFmC;AAAA,MAE5BC,QAF4B;;AAAA,mBAGcR,QAAQ,CAAC,IAAD,CAHtB;AAAA;AAAA,MAGnCS,oBAHmC;AAAA,MAGbC,uBAHa;;AAKxC,QAAMC,OAAO,GAAIC,CAAD,IAAO;AACpB,QAAGA,CAAC,CAACC,GAAF,KAAU,OAAb,EAAsB;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,UAAIC,KAAK,GAAGJ,CAAC,CAACK,MAAF,CAASC,EAArB;AACA,UAAIC,SAAS,GAAGd,MAAM,CAACW,KAAD,CAAN,CAAc,WAAd,CAAhB;AACA,UAAII,QAAQ,GAAGf,MAAM,CAACW,KAAD,CAAN,CAAc,UAAd,CAAf;AACA,UAAIK,MAAM,GAAGhB,MAAM,CAACW,KAAD,CAAN,CAAc,QAAd,CAAb;AACAb,MAAAA,WAAW,CAAC;AAACgB,QAAAA,SAAD;AAAYC,QAAAA,QAAZ;AAAsBC,QAAAA;AAAtB,OAAD,CAAX,CACCC,IADD,CACO,MAAM;AACVhB,QAAAA,aAAa;AACf,OAHD,EAICiB,KAJD,CAIO,UAASX,CAAT,EAAW;AACf;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACF,OAPD;AAQF;AACJ,GAhBA;;AAkBA,QAAMS,oBAAoB,GAAKZ,CAAD,IAAO;AAClC,QAAIa,YAAY,GAAGb,CAAC,CAACK,MAAF,CAASV,KAA5B;AACA,QAAIS,KAAK,GAAGJ,CAAC,CAACK,MAAF,CAASC,EAArB;AACA,QAAIQ,KAAK,GAAG,QAAQC,IAAR,CAAaF,YAAb,CAAZ;;AACA,QAAGC,KAAH,EAAS;AACN,UAAIN,QAAQ,GAAGQ,QAAQ,CAACH,YAAD,CAAvB;AACApB,MAAAA,MAAM,CAACW,KAAD,CAAN,CAAc,UAAd,IAA4BI,QAA5B;AACA,UAAIC,MAAM,GAAGhB,MAAM,CAACW,KAAD,CAAN,CAAc,OAAd,IAAyBI,QAAtC;AACAf,MAAAA,MAAM,CAACW,KAAD,CAAN,CAAc,QAAd,IAA0BK,MAAM,CAACQ,OAAP,CAAe,CAAf,CAA1B;AACAC,MAAAA,sBAAsB,CAAC,KAAD,CAAtB;AACAtB,MAAAA,QAAQ,CAAC,EAAED,KAAH,CAAR;AACF;AACH,GAZD;;AAcF,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADA,EAEA;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEG;AAAI,IAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAHA,EAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJA,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALA,CADH,CAFH,EAYCF,MAAM,CAAC0B,GAAP,CAAW,CAACC,QAAD,EAAUhB,KAAV,KAAkB;AAC3B,WAAQ;AAAI,MAAA,SAAS,EAAC,YAAd;AAA2B,MAAA,GAAG,EAAEA,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMgB,QAAQ,CAAC,WAAD,CAAd,CADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMA,QAAQ,CAAC,OAAD,CAAd,CAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMA,QAAQ,CAAC,iBAAD,CAAd,CAHA,EAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAEhB,KAAvB;AAA8B,MAAA,KAAK,EAAEgB,QAAQ,CAAC,UAAD,CAA7C;AACC,MAAA,QAAQ,EAAGpB,CAAC,IAAIY,oBAAoB,CAACZ,CAAD,CADrC;AAC0C,MAAA,OAAO,EAAED,OADnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,EAGG;AAAQ,MAAA,EAAE,EAAEK,KAAZ;AAAmB,MAAA,IAAI,EAAC,QAAxB;AAAiC,MAAA,QAAQ,EAAEiB,mBAA3C;AAAgE,MAAA,OAAO,EAAEC,cAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHH,CAJA,EASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMF,QAAQ,CAAC,QAAD,CAAd,CATA,CADJ,CAAR;AAaK,GAdP,CAZD,CAFA,CADF;AAkCA;;AAAA;AAED,eAAe5B,SAAf","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport { updateStock } from './services';\n\nfunction StockList({stocks, refreshStocks}){\n\n   let [value, setValue] = useState(0);\n   let [updateButtonDisabled, setUpdateButtonDisabled] = useState(true);\n   \n   const onKeyUp = (e) => {\n      if(e.key === 'Enter') {\n         console.log(\"Enter clicked\")\n         let index = e.target.id;\n         let stockname = stocks[index][\"stockName\"];\n         let quantity = stocks[index][\"quantity\"];\n         let equity = stocks[index][\"equity\"];\n         updateStock({stockname, quantity, equity})\n         .then( () => { \n            refreshStocks();\n         })\n         .catch(function(e){\n            //setErrorMessage(e.message);\n            console.log(\"Error in updating stock\");\n         });\n      }\n  };\n\n   const handleQuantityChange = ((e) => {\n      let quantityText = e.target.value;\n      let index = e.target.id;\n      let isnum = /^\\d+$/.test(quantityText);\n      if(isnum){\n         let quantity = parseInt(quantityText);\n         stocks[index][\"quantity\"] = quantity;\n         let equity = stocks[index][\"price\"] * quantity;\n         stocks[index][\"equity\"] = equity.toFixed(2);\n         setUpdateButtonEnabled(false);\n         setValue(++value);\n      }\n   });\n\n\treturn (\n   <div>\n   <h2>Your Virtual Portfolio</h2>\n   <ol className=\"stock-list\"> \n    \n      <li className=\"stock-item-header\">\n         <div>\n         <div>Stock Symbol</div>\n         <div>Price</div>\n         <div>Last Updated Date</div>\n         <div>Quantity</div>\n         <div>Your Equity</div>\n      </div> \n      </li>\n   {\n    stocks.map((stockMap,index)=>{\n      return  <li className=\"stock-item\" key={index}>\n                  <div>\n                  <div>{stockMap[\"stockName\"]}</div>\n                  <div>{stockMap[\"price\"]}</div>\n                  <div>{stockMap[\"lastUpdatedDate\"]}</div>\n                  <div>\n                     <input type=\"text\" id={index} value={stockMap[\"quantity\"]} \n                      onChange={ e => handleQuantityChange(e)} onKeyUp={onKeyUp}/>\n                     <button id={index} type=\"submit\" disabled={updateButtonEnabled} onClick={handleUsername}>Update</button>\n                  </div>\n                  <div>{stockMap[\"equity\"]}</div>\n                </div> \n             </li>\n          })\n       }\n    </ol>\n    </div>\n\t);\n};\n\nexport default StockList;"]},"metadata":{},"sourceType":"module"}