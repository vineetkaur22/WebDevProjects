{"ast":null,"code":"import _slicedToArray from \"/Users/vineetkaurbagga/Documents/WebDev_Workspace/stock-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/vineetkaurbagga/Documents/WebDev_Workspace/stock-tracker/src/StockApp.jsx\";\nimport React, { useState, useCallback, useEffect } from 'react';\nimport StockList from './StockList';\nimport { getStocks, getRefreshedStocks } from './services';\nimport AddStock from './AddStock';\n\nfunction StockApp({\n  onLogout,\n  username\n}) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        stocks = _useState2[0],\n        setStocks = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        errorMessage = _useState4[0],\n        setErrorMessage = _useState4[1];\n\n  const refreshStocks = useCallback(() => {\n    getStocks().then(stocklist => {\n      setStocks(stocklist);\n    }).catch(function (e) {\n      setErrorMessage(e.message);\n    });\n  }, []);\n  const refresh = useCallback(() => {\n    getRefreshedStocks().then(stocklist => {\n      setStocks(stocklist);\n    }).catch(function (e) {\n      setErrorMessage(e.message);\n    });\n  }, []);\n  useEffect(() => {\n    if (username) {\n      refreshStocks();\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, errorMessage), React.createElement(\"div\", {\n    className: \"top-bar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Logged in : \", username), React.createElement(\"button\", {\n    onClick: refresh,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Refresh\"), React.createElement(\"button\", {\n    onClick: onLogout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Logout\")), React.createElement(AddStock, {\n    username: username,\n    refreshStocks: refreshStocks,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(StockList, {\n    stocks: stocks,\n    refreshStocks: refreshStocks,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }));\n}\n\n;\nexport default StockApp;","map":{"version":3,"sources":["/Users/vineetkaurbagga/Documents/WebDev_Workspace/stock-tracker/src/StockApp.jsx"],"names":["React","useState","useCallback","useEffect","StockList","getStocks","getRefreshedStocks","AddStock","StockApp","onLogout","username","stocks","setStocks","errorMessage","setErrorMessage","refreshStocks","then","stocklist","catch","e","message","refresh"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,EAAuCC,SAAvC,QAAwD,OAAxD;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAAQC,SAAR,EAAmBC,kBAAnB,QAA4C,YAA5C;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAGA,SAASC,QAAT,CAAkB;AAACC,EAAAA,QAAD;AAAWC,EAAAA;AAAX,CAAlB,EAAuC;AAAA,oBAERT,QAAQ,CAAC,EAAD,CAFA;AAAA;AAAA,QAE7BU,MAF6B;AAAA,QAErBC,SAFqB;;AAAA,qBAGIX,QAAQ,CAAC,EAAD,CAHZ;AAAA;AAAA,QAG7BY,YAH6B;AAAA,QAGfC,eAHe;;AAKpC,QAAMC,aAAa,GAAGb,WAAW,CAAC,MAAM;AACrCG,IAAAA,SAAS,GACRW,IADD,CACOC,SAAS,IAAI;AACjBL,MAAAA,SAAS,CAACK,SAAD,CAAT;AACF,KAHD,EAICC,KAJD,CAIO,UAASC,CAAT,EAAW;AACfL,MAAAA,eAAe,CAACK,CAAC,CAACC,OAAH,CAAf;AACF,KAND;AAOF,GARgC,EAQ/B,EAR+B,CAAjC;AAUA,QAAMC,OAAO,GAAGnB,WAAW,CAAC,MAAM;AAC/BI,IAAAA,kBAAkB,GACjBU,IADD,CACOC,SAAS,IAAI;AACjBL,MAAAA,SAAS,CAACK,SAAD,CAAT;AACF,KAHD,EAICC,KAJD,CAIO,UAASC,CAAT,EAAW;AACfL,MAAAA,eAAe,CAACK,CAAC,CAACC,OAAH,CAAf;AACF,KAND;AAOF,GAR0B,EAQzB,EARyB,CAA3B;AAUAjB,EAAAA,SAAS,CAAC,MAAM;AACb,QAAGO,QAAH,EAAY;AACTK,MAAAA,aAAa;AACf;AACH,GAJQ,EAIP,EAJO,CAAT;AAOF,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMF,YAAN,CADH,EAEG;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAmBH,QAAnB,CADH,EAEG;AAAQ,IAAA,OAAO,EAAEW,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFH,EAGG;AAAQ,IAAA,OAAO,EAAEZ,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHH,CAFH,EAOG,oBAAC,QAAD;AAAU,IAAA,QAAQ,EAAEC,QAApB;AAA8B,IAAA,aAAa,EAAEK,aAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPH,EAQG,oBAAC,SAAD;AAAW,IAAA,MAAM,EAAEJ,MAAnB;AAA2B,IAAA,aAAa,EAAEI,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARH,CADF;AAYA;;AAAA;AAED,eAAeP,QAAf","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport StockList from './StockList';\nimport {getStocks ,getRefreshedStocks} from './services';\nimport AddStock from './AddStock'; \n\n\nfunction StockApp({onLogout, username}){\n\n   const [stocks, setStocks] = useState([]);\t\n   const [errorMessage, setErrorMessage] = useState([]);\n    \n   const refreshStocks = useCallback(() => {\n      getStocks()\n      .then( stocklist => { \n         setStocks(stocklist);\n      })\n      .catch(function(e){\n         setErrorMessage(e.message);\n      });\n   },[]);\n\n   const refresh = useCallback(() => {\n      getRefreshedStocks()\n      .then( stocklist => { \n         setStocks(stocklist);\n      })\n      .catch(function(e){\n         setErrorMessage(e.message);\n      });\n   },[]);\n\n   useEffect(() => {\n      if(username){\n         refreshStocks();\n      }\n   },[]);\n\n\n\treturn (\n   <div>\n      <div>{errorMessage}</div>\n      <div className=\"top-bar\">\n         <span>Logged in : {username}</span>\n         <button onClick={refresh}>Refresh</button>\n         <button onClick={onLogout}>Logout</button>\n      </div>\n      <AddStock username={username} refreshStocks={refreshStocks}/>\n      <StockList stocks={stocks} refreshStocks={refreshStocks}/>\n   </div>\n\t);\n};\n\nexport default StockApp;"]},"metadata":{},"sourceType":"module"}